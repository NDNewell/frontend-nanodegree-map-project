function AppViewModel(){function a(a){this.breakName=a.breakName,this.location=a.location,this.bigWave=a.bigWave,this.wellKnown=a.wellKnown,this.cost=a.cost,this.skillLevel=a.skillLevel,this.waveDirection=a.waveDirection,this.breakDetails=a.breakDetails,this.avgSize=a.avgSize,this.optimalSwell=a.optimalSwell,this.optimalTide=a.optimalTide,this.optimalWind=a.optimalWind,this.optimalTime=a.optimalTime,this.climate=a.climate,this.avgWaterTemp=a.avgWaterTemp,this.hazards=a.hazards,this.lat=a.lat,this.lng=a.lng,this.spotID=a.spotID,this.picture=a.picture}this.self=this,self.LocationArray=[],locationData.forEach(function(b){self.LocationArray.push(new a(b))}),self.locationGrid=ko.observableArray(""),self.LocationArray.forEach(function(a){self.locationGrid.push(a)}),self.Query=ko.observable(""),$(".search-form").on("click",function(){$(this).val(""),self.Query(""),$(".surf-conditions").remove(),$(".surf-conditions-error").remove(),$(".surf-guide-container").remove(),$(".location-grid").show(),infoWindow.close(),self.searchLocations()}),self.searchKeywords=[],self.LocationArray.forEach(function(a){self.searchKeywords.push(a.breakName),searchKeywords.indexOf(a.location)<0&&self.searchKeywords.push(a.location)}),$(".search-form").autocomplete({source:searchKeywords,autoFocus:!0,minLength:2,delay:500,select:function(a,b){self.Query(b.item.value),self.searchLocations()}}),self.searchLocations=function(){var a=self.Query().toLowerCase().replace(/ /g,"").replace(/'/g,"").replace(/,/g,"");self.locationGrid.removeAll(),self.LocationArray.forEach(function(b){b.breakName.toLowerCase().replace(/ /g,"").replace(/'/g,"").replace(/,/g,"").indexOf(a)>=0?self.locationGrid.push(b):b.location.toLowerCase().replace(/ /g,"").replace(/'/g,"").replace(/,/g,"").indexOf(a)>=0&&self.locationGrid.push(b)}),markers.forEach(function(b){b.title.toLowerCase().replace(/ /g,"").replace(/'/g,"").replace(/,/g,"").indexOf(a)>=0?b.setVisible(!0):b.setVisible(!1)}),$("#map").is(":hidden")||setMapBounds(),addRolloverEffect()};var b;self.addRolloverEffect=function(){console.log("Enable rollover effect"),$(".location-frame").each(function(){var a=$(this),c=$(this).find(".break-name"),d=$(this).find(".location-name"),e=$(this).find("img.location-image");a.on("mouseenter",function(f){function g(b){e.css("-webkit-filter","blur(4px) brightness(80%)"),d.toggle(),c.toggle();var f=displaySkillIcon(b.skillLevel);a.append(f);var g=displayBreakIcon(b.breakDetails);a.append(g);var h=displayDirectionIcon(b.waveDirection);a.append(h);var i=displayBestSeasonIcon(b.optimalTime);a.append(i);var j=displayBigWaveIcon(b);a.append(j);var k=displayWellKnownIcon(b);a.append(k);var l=displayCost(b.cost);if(a.append(l),"undefined"!=typeof currentLat){var m=displayDistance(b.lat,b.lng);a.append(m)}var n=displayCurrentWaterTemp(b.avgWaterTemp);a.append(n);var o=displayWaveSize(b.avgSize);a.append(o)}b=!0;var h=f.currentTarget.innerText,i=h.toLowerCase().replace(/ /g,"").replace(/'/g,"").replace(/,/g,"");self.LocationArray.forEach(function(a){var b=a.breakName.toLowerCase().replace(/ /g,"").replace(/'/g,"").replace(/,/g,"");i.indexOf(b)>=0&&g(a)})}),a.on("mouseleave",function(){e.css("-webkit-filter","blur(0px) brightness(100%)"),d.toggle(),c.toggle(),$(".rollover-info").remove()})})},self.clickLocationFrame=function(a){b=!1,self.goToMarker(a.breakName),renderSurfGuide(a)},self.goToMarker=function(a){markers.forEach(function(b){b.title.indexOf(a)>=0&&(getInfoWindow(b,a),map.setCenter(b.getPosition()),map.setZoom(10),animateMarker(b))})};self.renderSurfGuide=function(a){$(".surf-guide-container").is(":visible")||$(".location-grid").toggle(),$(".surf-guide-container").remove(),$(".surf-info-container").append('<div class="row surf-guide-container"></div>'),$surfGuideContainer=$(".surf-guide-container");var b=displayTitle(a.breakName,a.location);$surfGuideContainer.append(b),displayBigWaveIcon(a,$surfGuideContainer),displayWellKnownIcon(a,$surfGuideContainer);var c=displaySkillIcon(a.skillLevel);$surfGuideContainer.append(c);var d=displayDirectionIcon(a.waveDirection);$surfGuideContainer.append(d);var e=displayBreakIcon(a.breakDetails);$surfGuideContainer.append(e),displayWaveSize(a.avgSize),displayCompassIcon(a.optimalSwell,a.optimalWind,$surfGuideContainer);var f=displayTideIcon(a.optimalTide);$surfGuideContainer.append(f);var g=displayBestSeasonIcon(a.optimalTime);$surfGuideContainer.append(g),displaySuggestedAttireIcons(a.avgWaterTemp);var h=displayClimateIcon(a.climate);$surfGuideContainer.append(h);var i=displayCost(a.cost);if($surfGuideContainer.append(i),"undefined"!=typeof currentLat){var j=displayDistance(a.lat,a.lng);$surfGuideContainer.append('<div class="col-xs-6 col-sm-3 distance card">'+j+"</div>")}displayHazardIcons(a.hazards),addGuideButtons(a)},self.addGuideButtons=function(a){$surfGuideContainer.prepend('<button type="button" class="btn guide-close-button">✖</button>'),$(".title-guide").append('<button type="button" class="btn btn-default conditions-button">Current Condtions</button>'),$(".conditions-button").on("click",function(b){$(".surf-conditions").is(":hidden")?($(".surf-conditions").toggle(),$(".conditions-button").toggle(),$(".conditions-close-button").toggle()):($(".conditions-button").toggle(),getMagicSeaweed(a.spotID,a.breakName))}),$(".guide-close-button").on("click",function(a){$(".surf-conditions").remove(),$(".surf-conditions-error").remove(),$(".surf-guide-container").remove(),$(".location-frame").show(),$(".location-grid").toggle(),$("#map").is(":hidden")||setMapBounds(),infoWindow.close()})},self.displayTitle=function(a,b){var c='<div class="col-xs-12 title-guide"><p class="title">'+a+", "+b+"</p></div>";return c},self.displayBigWaveIcon=function(a,c){if(b)if(a.bigWave)var d=images.roIconMiscOneBigWave;else var d=displaySuggestedAttireIcons(a.avgWaterTemp);else{if(!a.bigWave)return;var d='<div class="col-xs-6 col-sm-3 col big-wave card"><img src="img/big_wave.svg" class="big-wave-guide"></div>';c.append(d)}return d},self.displayWellKnownIcon=function(a,c){if(b)if(a.wellKnown)var d=images.roIconMiscTwoWellknown;else var d=displayHazardIcons(a.hazards);else{if(!a.wellKnown)return;var d='<div class="col-xs-6 col-sm-3 well-known card"><img src="img/well_known.svg" class="well-known-guide"></div>';c.append(d)}return d},self.displaySkillIcon=function(a){for(var c=0,d=0,e=0,f=a.length,g=f;g--;)switch(a[g]){case"beginner":c++;break;case"intermediate":d++;break;case"advanced":e++}if(c===d&&c===e)if(b)var h=images.roIconSkillAll;else var h='<div class="col-xs-6 col-sm-3 skill-level card"><img src="/img/skill_level_all.svg" class=" skill-level-guide"></div>';else if(c>=d&&c>e)if(c===d)if(b)var h=images.roIconSkillBegInt;else var h='<div class="col-xs-6 col-sm-3 skill-level card"><img src="/img/skill_level_beginner_intermediate.svg" class=" skill-level-guide"></div>';else if(b)var h=images.roIconSkillBeg;else var h='<div class="col-xs-6 col-sm-3 skill-level card"><img src="/img/skill_level_beginner.svg" class=" skill-level-guide"></div>';else if(d>c&&d>=e)if(d===e)if(b)var h=images.roIconSkillIntAdv;else var h='<div class="col-xs-6 col-sm-3 skill-level card"><img src="/img/skill_level_intermediate_advanced.svg" class=" skill-level-guide"></div>';else if(b)var h=images.roIconSkillInt;else var h='<div class="col-xs-6 col-sm-3 skill-level card"><img src="/img/skill_level_intermediate.svg" class=" skill-level-guide"></div>';else if(b)var h=images.roIconSkillAdv;else var h='<div class="col-xs-6 col-sm-3 skill-level card"><img src="/img/skill_level_advanced.svg" class=" skill-level-guide"></div>';return h},self.displayDirectionIcon=function(a){switch(a){case"left":if(b)var c=images.roIconDirectionLeft;else var c='<div class="col-xs-6 col-sm-3 direction card"><img src="/img/direction_left.svg" class="wave-direction-guide"></div>';break;case"right":if(b)var c=images.roIconDirectionRight;else var c='<div class="col-xs-6 col-sm-3 direction card"><img src="/img/direction_right.svg" class="wave-direction-guide"></div>';break;case"left & right":if(b)var c=images.roIconDirectionBoth;else var c='<div class="col-xs-6 col-sm-3 direction card"><img src="/img/direction_both.svg" class="wave-direction-guide"></div>'}return c},self.displayBreakIcon=function(a){switch(a){case"reef":if(b)var c=images.roIconBreakReef;else var c='<div class="col-xs-6 col-sm-3 break card"><img src="/img/break_reef.svg" class="break-type-guide"></div>';break;case"beach":if(b)var c=images.roIconBreakBeach;else var c='<div class="col-xs-6 col-sm-3 break card"><img src="/img/break_beach.svg" class="break-type-guide"></div>';break;case"point":if(b)var c=images.roIconBreakPoint;else var c='<div class="col-xs-6 col-sm-3 break card"><img src="/img/break_point.svg" class="break-type-guide"></div>';break;case"river mouth":if(b)var c=images.roIconBreakRiver;else var c='<div class="col-xs-6 col-sm-3 break card"><img src="/img/break_river_mouth.svg" class="break-type-guide"></div>'}return c},self.displayCompassIcon=function(a,b,c){function d(a){if(e){e=!1,drawBackground=!0,c.append('<div class="col-xs-6 col-sm-3 small-compass-guide card"><canvas id="compass-small" width="160" height="160"></canvas></div>');var b=images.swellPointer,d=images.smallCompass}else if(f){f=!1;var b=images.windPointer}var g=document.getElementById("compass-small"),h=g.getContext("2d"),i=b;drawBackground&&(h.drawImage(d,0,0),h.save()),h.translate(80,80);for(var j=a.length,k=j;k--;){switch(a[k]){case"N":var l=0;break;case"NNE":var l=22.5;break;case"NE":var l=45;break;case"ENE":var l=67.5;break;case"E":var l=90;break;case"ESE":var l=112.5;break;case"SE":var l=135;break;case"SSE":var l=157.5;break;case"S":var l=180;break;case"SSW":var l=202.5;break;case"SW":var l=225;break;case"WSW":var l=247.5;break;case"W":var l=270;break;case"WNW":var l=292.5;break;case"NW":var l=315;break;case"NNW":var l=337.5}var m=l*(Math.PI/180);h.rotate(m),h.drawImage(i,-80,-80),h.rotate(-m)}drawBackground&&(drawBackground=!1,h.restore())}if(a){var e=!0;d(a)}var f=!0;d(b)},self.displayTideIcon=function(a){for(var b=0,c=0,d=0,e=a.length,f=e;f--;)switch(a[f]){case"low":b++;break;case"mid":c++;break;case"high":d++}if(b===c&&d)var g='<div class="col-xs-6 col-sm-3 tide card"><img src="/img/tide_all.svg" class="tide-guide"></div>';else if(b>=c&&b>=d)if(b===c)var g='<div class="col-xs-6 col-sm-3 tide card"><img src="/img/tide_low_mid.svg" class="tide-guide"></div>';else if(b===d)var g='<div class="col-xs-6 col-sm-3 tide card"><img src="/img/tide_low_high.svg" class="tide-guide"></div>';else var g='<div class="col-xs-6 col-sm-3 tide card"><img src="/img/tide_low.svg" class="tide-guide"></div>';else if(c>b&&c>=d)if(c===d)var g='<div class="col-xs-6 col-sm-3 tide card"><img src="/img/tide_high_mid.svg" class="tide-guide"></div>';else var g='<div class="col-xs-6 col-sm-3 tide card"><img src="/img/tide_mid.svg" class="tide-guide"></div>';else var g='<div class="col-xs-6 col-sm-3 tide card"><img src="/img/tide_high.svg" class="tide-guide"></div>';return g},self.displayBestSeasonIcon=function(a){for(var c=0,d=0,e=0,f=0,g=a.length,h=g;h--;)switch(a[h]){case" Dec":case" Jan":case" Feb":f++;break;case" Mar":case" Apr":case" May":c++;break;case" Jun":case" Jul":case" Aug":d++;break;case" Sep":case" Oct":case" Nov":e++}if(f===c&&f===d&&f===e)if(b)var i=images.roIconBestSeasonAll;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_all.svg" class="best-season-guide"></div>';else if(f>=c&&f>=d&&f>=e)if(f===c)if(b)var i=images.roIconBestSeasonWinSpr;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_winter_spring.svg" class="best-season-guide"></div>';else if(f===d)if(b)var i=images.roIconBestSeasonWinSum;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_winter_summer.svg" class="best-season-guide"></div>';else if(f===e)if(b)var i=images.roIconBestSeasonWinAut;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_winter_autumn.svg" class="best-season-guide"></div>';else if(b)var i=images.roIconBestSeasonWin;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_winter.svg" class="best-season-guide"></div>';else if(c>=d&&c>=e&&c>f)if(c===d)if(b)var i=images.roIconBestSeasonSpgSum;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_spring_summer.svg" class="best-season-guide"></div>';else if(c===e)if(b)var i=images.roIconBestSeasonSpgAut;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_spring_autumn.svg" class="best-season-guide"></div>';else if(b)var i=images.roIconBestSeasonSpg;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_spring.svg" class="best-season-guide"></div>';else if(d>=e&&d>f&&d>c)if(d===e)if(b)var i=images.roIconBestSeasonSumAut;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_summer_autumn.svg" class="best-season-guide"></div>';else if(b)var i=images.roIconBestSeasonSum;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_summer.svg" class="best-season-guide"></div>';else if(b)var i=images.roIconBestSeasonAut;else var i='<div class="col-xs-6 col-sm-3 time card"><img src="/img/season_autumn.svg" class="best-season-guide"></div>';return i},self.displaySuggestedAttireIcons=function(a){function c(a,b){if(1===b)var c=document.getElementById("spring"),d=images.attireSpring;else if(2===b)var c=document.getElementById("summer"),d=images.attireSummer;else if(3===b)var c=document.getElementById("autumn"),d=images.attireAutumn;else var c=document.getElementById("winter"),d=images.attireWinter;var e=c.getContext("2d"),f=a,g=d;e.drawImage(g,0,0),e.drawImage(f,0,0)}function d(a){if(a>59)if(a>72)if(b)var c=images.roIconMiscOneBoardies;else var c=images.attireBoardies;else if(a>66)if(b)var c=images.roIconMiscOneWetSuitTwo;else var c=images.attireWetsuitTwo;else if(b)var c=images.roIconMiscOneWetSuitThree;else var c=images.attireWetsuitThree;else if(a>54)if(b)var c=images.roIconMiscOneWetSuitFour;else var c=images.attireWetsuitFour;else if(a>48)if(b)var c=images.roIconMiscOneWetSuitFive;else var c=images.attireWetsuitFive;else if(b)var c=images.roIconMiscOneWetSuitSix;else var c=images.attireWetsuitSix;return c}if(b){var e=getCurrentSeason();if("winter"===e)var f=d(a.winter);else if("spring"===e)var f=d(a.spring);else if("winter"===e)var f=d(a.summer);else if("autumn"===e)var f=d(a.autumn);return f}$surfGuideContainer.append('<div class="col-xs-6 col-sm-3 water-temp spring card"><canvas id="spring" width="160" height="160"></canvas>'),$surfGuideContainer.append('<div class="col-xs-6 col-sm-3 water-temp summer card"><canvas id="summer" width="160" height="160"></canvas>'),$surfGuideContainer.append('<div class="col-xs-6 col-sm-3 water-temp autumn card"><canvas id="autumn" width="160" height="160"></canvas>'),$surfGuideContainer.append('<div class="col-xs-6 col-sm-3 water-temp winter card"><canvas id="winter" width="160" height="160"></canvas>');var g=0;for(var h in a){g++;var i=d(a[h]);c(i,g)}var e=getCurrentSeason();"winter"===e?$("#winter").addClass("highlight-attire"):"spring"===e?$("#spring").addClass("highlight-attire"):"winter"===e?$("#summer").addClass("highlight-attire"):"autumn"===e&&$("#autumn").addClass("highlight-attire")},self.displayClimateIcon=function(a){var b='<div class="col-xs-6 col-sm-3 climate card"><img src="img/empty_marquee.svg" class="climate-guide"><p>'+a+"</p></div>";return b},self.displayCost=function(a){if(b)var c='<p class="rollover-info cost cost-hover">$'+a.budget+"</p>";else var d=Math.floor((a.highEnd-a.budget)/2+a.budget),c=$surfGuideContainer.append('<div class="col-xs-6 col-sm-3 cost card"><img src="img/cost.svg"><p>'+a.budget+"</p><p>"+d+"</p><p>"+a.highEnd+"</p></div>");return c},self.displayDistance=function(a,c){function d(a){return a*(Math.PI/180)}var e=currentLat,f=currentLng,g=3959,h=d(a-e),i=d(c-f),j=Math.sin(h/2)*Math.sin(h/2)+Math.cos(d(e))*Math.cos(d(a))*Math.sin(i/2)*Math.sin(i/2),k=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j)),l=g*k,m=Math.round(l);if(m>200){var n=m/450;if(1>n)var o=1;else var o=Math.round(n);if(o>8&&12>=o)var p=o+2,q=p;else if(o>12)var p=o+4,q=p;else var q=o;var r=q;if(b){var s='<p class="rollover-info distance distance-hover">'+r+"h</p>";return s}var t='<img src="img/distance_plane.svg" class="icon distance-guide"><p class="distance-guide-hours">'+r+"h</p>";return t}var u=m;if(b){var s='<p class="rollover-info distance distance-hover">'+u+"m</p>";return s}var t='<img src="img/distance.svg" class="icon distance-guide"><p class="distance-guide-miles">'+u+"m</p>";return t},self.displayCurrentWaterTemp=function(a){var b=getCurrentSeason();switch(b){case"winter":var c=a.winter;break;case"spring":var c=a.spring;break;case"summer":var c=a.summer;break;case"autumn":var c=a.autumn}var d='<p class="rollover-info water-temp-hover">'+c+"℉</p>";return d},self.displayWaveSize=function(a){if(a.aboveMax)var c="+";else var c="";if(b)var d='<p class="rollover-info wave-size-hover">'+a.min+"-"+a.max+"'</p>";else var d='<div class="col-xs-6 col-sm-3 wave-size card"><img src="img/wave_range.svg" class"wave-size-guide"><p>'+a.min+"-"+a.max+c+"ft</p></div>";return d},self.getCurrentSeason=function(){var a=new Date,b=a.getMonth();switch(b){case 11:case 0:case 1:var c="winter";break;case 2:case 3:case 4:var c="spring";break;case 5:case 6:case 7:var c="summer";break;case 8:case 9:case 10:var c="autumn"}return c},self.displayHazardIcons=function(a){function c(a){switch(a){case"beginners":if(b)var c=images.roIconMiscTwoBeginners;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_beginners.svg" class="hazard-guide"></div>');break;case"boats":if(b)var c=images.roIconMiscTwoBoats;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_boats.svg" class="hazard-guide"></div>');break;case"crocs":if(b)var c=images.roIconMiscTwoCrocs;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_crocs.svg" class="hazard-guide"></div>');break;case"crowded":if(b)var c=images.roIconMiscTwoCrowded;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_crowded.svg" class="hazard-guide"></div>');break;case"dangerous break":if(b)var c=images.roIconMiscTwoDgrBreak;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_dangerous_break.svg" class="hazard-guide"></div>');break;case"far from shore":if(b)var c=images.roIconMiscTwoFar;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_far_from_shore.svg" class="hazard-guide"></div>');break;case"pollution":if(b)var c=images.roIconMiscTwoPollution;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_pollution.svg" class="hazard-guide"></div>');break;case"rocky bottom":if(b)var c=images.roIconMiscTwoRocky;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_rocky_bottom.svg" class="hazard-guide"></div>');break;case"sea snakes":if(b)var c=images.roIconMiscTwoSnakes;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_sea_snakes.svg" class="hazard-guide"></div>');break;case"seals":if(b)var c=images.roIconMiscTwoSeals;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_seals.svg" class="hazard-guide"></div>');break;case"seaweed":if(b)var c=images.roIconMiscTwoSeaweed;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_seaweed.svg" class="hazard-guide"></div>');break;case"sewage":if(b)var c=images.roIconMiscTwoSewage;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_sewage.svg" class="hazard-guide"></div>');break;case"shallow":if(b)var c=images.roIconMiscTwoShallow;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_shallow.svg" class="hazard-guide"></div>');break;case"sharks":if(b)var c=images.roIconMiscTwoSharks;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_sharks.svg" class="hazard-guide"></div>');break;case"strong currents":if(b)var c=images.roIconMiscTwoStrCurrent;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_strong_currents.svg" class="hazard-guide"></div>');break;case"strong rips":if(b)var c=images.roIconMiscTwoStrRips;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_strong_rips.svg" class="hazard-guide"></div>');break;case"theft":if(b)var c=images.roIconMiscTwoTheft;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_theft.svg" class="hazard-guide"></div>');break;case"undertow":if(b)var c=images.roIconMiscTwoUndertow;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_undertow.svg" class="hazard-guide"></div>');break;case"unfriendly":if(b)var c=images.roIconMiscTwoUnfriendly;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_unfriendly.svg" class="hazard-guide"></div>');break;case"urchins":if(b)var c=images.roIconMiscTwoUrchins;else $surfGuideContainer.append('<div class="col-xs-6 col-sm-3 hazard card"><img src="img/hazards_urchins.svg" class="hazard-guide"></div>')}return c}if(b){var d=0,e=a.length,f=Math.floor(Math.random()*(e-d)+d),g=a[f],h=c(g);return h}for(var i=a.length,j=i;j--;)c(a[j])},self.getMagicSeaweed=function(a,b){function c(a){function c(){function a(){c.drawImage(f,0,0),c.save(),c.translate(150,150),c.rotate(g),c.drawImage(d,-150,-150),c.rotate(-g),c.rotate(h),c.drawImage(e,-150,-150),c.restore()}var b=document.getElementById("compass"),c=b.getContext("2d"),d=new Image;d.src="img/windPointer.svg";var e=new Image;e.src="img/swellPointer.svg";var f=new Image;f.src="img/compass.svg",f.onload=a;var g=o*(Math.PI/180),h=l*(Math.PI/180)}var d=$(".surf-guide-container");if(e.indexOf(b)>=0&&!d.is(":contains('unavailable')")){var g=a.swell.minBreakingHeight,h=a.swell.maxBreakingHeight;if(g===h)var i=g;else var i=g+" - "+h;for(var j=a.swell.components.primary.height,k=a.swell.components.primary.period,l=a.swell.components.primary.direction,m=a.swell.components.primary.compassDirection,n=a.wind.speed,o=a.wind.direction,p=a.wind.compassDirection,q=a.condition.temperature,r=a.condition.weather,s="http://cdnimages.magicseaweed.com/30x30/"+r+".png",t="img/cloudy-&-wind.png",u=[],v=a.solidRating,w='<img class="star" src="img/star_filled.svg"/>',x=v;x--;)u.push(w);for(var y=a.fadedRating,z='<img class="star" src="img/star_faded.svg"/>',x=y;x--;)u.push(z);for(var A=5-u.length,B='<img class="star" src="img/star_empty.svg"/>',x=A;x--;)u.push(B);var C=u.join(""),D='<div class="col-xs-12 surf-conditions-container live-surf-conditions"></div>',E='<div class="col-xs-12 col-sm-6 live-surf-conditions live-compass"><canvas id="compass" width="300" height="300"></canvas></div>';f.after(E),f.after(D);var F=$(".surf-conditions-container"),G='<div class="col-xs-12 col-sm-6 surf-conditions-small surf-conditions-waves"></div>',H='<div class="col-xs-6 col-sm-3 surf-conditions-small surf-conditions-swell"></div>',I='<div class="col-xs-6 col-sm-3 surf-conditions-small surf-conditions-wind"></div>';F.append(G),F.append(H),F.append(I);var J=$(".title"),K='<p class="live-temp live-surf-conditions">'+q+' ℉<img class="live-weather" src="'+s+'" alt="Symbol for current weather"></p>';J.after(K);var L=$(".surf-conditions-wind"),M=$(".surf-conditions-swell"),N=$(".surf-conditions-waves"),O="<p>"+n+"mph</p>",P='<img class="img-responsive" src="'+t+'" alt="Symbol for wind">',Q="<p>"+p+" wind</p>";L.append(O),L.append(P),L.append(Q);var R="<p>"+j+"ft</p>",S="<p>primary</p>",T="<p>@ "+k+"s "+m+"</p>";M.append(R),M.append(S),M.append(T);var U="<p>"+i+"ft</p>",V="<p>"+C+"</p>";N.append(U),N.append(V),c();var W='<button type="button" class="btn conditions-close-button">✖</button>';N.prepend(W);var X=$(".conditions-close-button"),Y=$(".live-surf-conditions"),Z=$(".conditions-button");X.on("click",function(a){Y.toggle(),X.toggle(),Z.toggle()})}}function d(){if(e.indexOf(b)>=0){var a='<div class="col-xs-12 error-container"></div>',c='<p class="conditions-error">'+b+" conditions unavailable =(</p>",d='<button type="button" class="btn error-close-button">✖</button>';f.after(a);var g=$(".error-container");g.append(c),g.prepend(d);var h=$(".error-close-button"),i=$(".conditions-close-button"),j=$(".conditions-button");h.on("click",function(a){g.remove(),i.remove(),j.toggle()})}}var e=$(".title-guide").text(),f=$(".title-guide");if("none"===a)d();else{var g=setTimeout(function(){d()},8e3),h="http://magicseaweed.com/api/d2983e394d07724e96404fba11c10485/forecast/?spot_id="+a+"&units=us&fields=timestamp,fadedRating,solidRating,swell.minBreakingHeight,swell.maxBreakingHeight,swell.components.primary.*,wind.*,condition.*";$.ajax({url:h,dataType:"jsonp",success:function(a){for(var b=Date.now(),d=b/1e3,e=d-10800,f=d+10800,h=a.length,i=h;i--;){var j=a[i].timestamp;if(d>j&&j>e)var k=a[i];else if(j>d&&f>j)var k=a[i]}c(k),clearTimeout(g)}})}}}function success(a){currentLat=a.coords.latitude,currentLng=a.coords.longitude}function initMap(){var a=[{featureType:"all",elemntType:"geometry",stylers:[{visibility:"off"}]},{featureType:"all",elemntType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elemntType:"geometry",stylers:[{color:"#FFFFFF"},{visibility:"on"}]},{featureType:"landscape",elemntType:"geometry",stylers:[{visibility:"on"},{color:"#99EB99"}]}],b=[{stylers:[{hue:"#99EB99"},{saturation:-20}]},{featureType:"water",elemntType:"geometry",stylers:[{color:"#FFFFFF"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:50},{color:"#00B8E6"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"none"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"none"}]}],c=new google.maps.StyledMapType(a,{name:"Surf"}),d=new google.maps.StyledMapType(b,{name:"Drive"}),e={center:new google.maps.LatLng(20.67,-157.505),mapTypeControlOptions:{mapTypeIds:["drive_map_style","surf_map_style"]},disableDefaultUI:!0,zoomControl:!0,mapTypeControl:!0};map=new google.maps.Map(document.getElementById("map"),e),map.mapTypes.set("surf_map_style",c),map.mapTypes.set("drive_map_style",d),map.setMapTypeId("surf_map_style"),infoWindow=new google.maps.InfoWindow,generateMarkers(),addMapButton(),addMapClickEvent()}function generateMarkers(){for(var a=locationData.length,b=a;b--;){var c=locationData[b],d={lat:locationData[b].lat,lng:locationData[b].lng},e=locationData[b].breakName,f=locationData[b].location;addMarker(e,d,f,c)}showMarkers(map),setMapBounds()}function addMarker(a,b,c,d){var e="img/marker.png",f=new google.maps.Marker({position:b,animation:google.maps.Animation.DROP,map:map,icon:e,title:a+" ("+c+")"});addListeners(f,a,d)}function addListeners(a,b,c){google.maps.event.addListener(a,"dblclick",function(a){return function(){map.setCenter(a.getPosition()),map.getZoom()<14&&map.setZoom(14)}}(a)),google.maps.event.addListener(a,"click",function(a,b,c){return function(){getInfoWindow(a,b),animateMarker(a),$(".surf-guide-container").is(":visible")?($(".surf-conditions").remove(),renderSurfGuide(c)):showLocationFrame(b)}}(a,b,c)),markers.push(a)}function showMarkers(a){for(var b=markers.length,c=b;c--;)markers[c].setMap(a)}function setMapBounds(){for(var a=new google.maps.LatLngBounds,b=markers.length,c=b;c--;)markers[c].visible&&a.extend(markers[c].getPosition());map.fitBounds(a),map.getZoom()>12&&map.setZoom(12)}function getInfoWindow(a,b){infoWindow.setContent(b),infoWindow.open(map,a)}function animateMarker(a){a.setAnimation(google.maps.Animation.BOUNCE),window.setTimeout(function(){a.setAnimation(null)},1400)}function addMapButton(){$(".map-container").prepend('<button type="button" class="btn hide-map-button">▼</button>'),$(".hide-map-button").on("click",function(a){$("#map").toggle(),$("#map").is(":visible")?($(this).text("▼"),$(".surf-guide-container").length||(setMapBounds(),infoWindow.close())):$(this).text("▲")})}function showLocationFrame(a){$(".location-frame").each(function(){var b=$(this);if(b.text().indexOf(a)>=0){var c=b;$(".location-frame").hide(),c.show()}})}function addMapClickEvent(){map.addListener("click",function(){$(".surf-guide-container").is(":visible")||$(".location-frame").show(),infoWindow.close()})}var locationData=[{breakName:"Sunset Beach",location:"Oahu, Hawaii",bigWave:!0,wellKnown:!1,cost:{budget:100,highEnd:250},skillLevel:["advanced"],waveDirection:"left",breakDetails:"reef",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["W","NW"],optimalWind:["E","SSE"],optimalTide:["mid"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Aw",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["beginners","boats"],lat:21.679011,lng:-158.041277,spotID:657,picture:'<img src="/img/flickr_sunset_beach-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Pipeline/Backdoor",location:"Oahu, Hawaii",bigWave:!1,wellKnown:!0,cost:{budget:50,highEnd:150},skillLevel:["advanced"],waveDirection:"right",breakDetails:"beach",avgSize:{min:3,max:7,aboveMax:!0},optimalSwell:["E","SE"],optimalWind:["W","SW"],optimalTide:["high"],optimalTime:[" Mar"," Jan"," Feb"," Apr"," May"],climate:"Af",avgWaterTemp:{spring:77,summer:80,autumn:75,winter:77},hazards:["crocs","crowded","dangerous break"],lat:21.665244,lng:-158.053408,spotID:616,picture:'<img src="/img/flickr_pipeline-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Cannons",location:"Kauai, Hawaii",bigWave:!0,wellKnown:!1,cost:{budget:125,highEnd:300},skillLevel:["advanced"],waveDirection:"left & right",breakDetails:"point",avgSize:{min:5,max:8,aboveMax:!0},optimalSwell:["W","S"],optimalWind:["N","NNE"],optimalTide:["high","low"],optimalTime:[" Sep"," Oct"," Nov"," Dec"," Jan"," Feb"],climate:"BW",avgWaterTemp:{spring:77,summer:80,autumn:66,winter:77},hazards:["far from shore","pollution","rocky bottom"],lat:22.224744,lng:-159.566712,spotID:"none",picture:'<img src="/img/flickr_cannons-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Tunnels",location:"Kauai, Hawaii",bigWave:!1,wellKnown:!1,cost:{budget:20,highEnd:50},skillLevel:["intermediate"],waveDirection:"right",breakDetails:"river mouth",avgSize:{min:10,max:17,aboveMax:!1},optimalSwell:["ESE","SSW"],optimalWind:["W","WSW"],optimalTide:["high"],optimalTime:[" Dec"," Jan"," Feb"," Mar"," Apr"," Jun"," Jul"],climate:"Cfa",avgWaterTemp:{spring:77,summer:80,autumn:74,winter:77},hazards:["sea snakes","seals","seaweed"],lat:22.224744,lng:-159.566712,spotID:"none",picture:'<img src="/img/flickr_tunnels-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Anahola",location:"Kauai, Hawaii",bigWave:!1,wellKnown:!0,cost:{budget:50,highEnd:100},skillLevel:["beginner"],waveDirection:"left",breakDetails:"point",avgSize:{min:7,max:9,aboveMax:!1},optimalSwell:["ESE","NNW"],optimalWind:["WSW","SSE"],optimalTide:["high","mid","low"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Cfc",avgWaterTemp:{spring:77,summer:80,autumn:79,winter:77},hazards:["sewage","shallow","sharks"],lat:22.148311,lng:-159.300331,spotID:"none",picture:'<img src="/img/flickr_anahola-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Hanalei",location:"Kauai, Hawaii",bigWave:!0,wellKnown:!1,cost:{budget:30,highEnd:60},skillLevel:["beginner","intermediate","advanced"],waveDirection:"left & right",breakDetails:"river mouth",avgSize:{min:20,max:25,aboveMax:!0},optimalSwell:["W","NW"],optimalWind:["SE","SW"],
optimalTide:["mid","low"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"BWh",avgWaterTemp:{spring:77,summer:80,autumn:73,winter:77},hazards:["strong currents","strong rips","theft"],lat:22.218315,lng:-159.502265,spotID:3051,picture:'<img src="/img/google_hanalei-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Hale'iwa",location:"Oahu, Hawaii",bigWave:!1,wellKnown:!0,cost:{budget:15,highEnd:35},skillLevel:["advanced"],waveDirection:"left",breakDetails:"reef",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["WNW","NE"],optimalWind:["NW","ESE"],optimalTide:["high","mid"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"BWk",avgWaterTemp:{spring:77,summer:80,autumn:71,winter:77},hazards:["undertow","unfriendly","urchins"],lat:21.596416,lng:-158.109121,spotID:660,picture:'<img src="/img/flickr_haleiwa-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Waimea Bay",location:"Oahu, Hawaii",bigWave:!0,wellKnown:!1,cost:{budget:20,highEnd:50},skillLevel:["advanced"],waveDirection:"left",breakDetails:"reef",avgSize:{min:11,max:16,aboveMax:!0},optimalSwell:["W","NW"],optimalWind:["ENE","S"],optimalTide:["low","mid","high"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Am",avgWaterTemp:{spring:77,summer:80,autumn:76,winter:77},hazards:["sharks","crowded","boats","shallow"],lat:21.642987,lng:-158.066743,spotID:549,picture:'<img src="/img/wiki_waimea_bay-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Rocky Point",location:"Oahu, Hawaii",bigWave:!1,wellKnown:!1,cost:{budget:35,highEnd:75},skillLevel:["advanced"],waveDirection:"right",breakDetails:"point",avgSize:{min:5,max:8,aboveMax:!0},optimalSwell:["SSE","ESE"],optimalWind:["W","N"],optimalTide:["high","low"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Dfa",avgWaterTemp:{spring:77,summer:80,autumn:98,winter:77},hazards:["strong currents","crowded","seals","beginners"],lat:21.670862,lng:-158.049157,spotID:658,picture:'<img src="/img/flickr_rocky_point-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Turtle Bay",location:"Oahu, Hawaii",bigWave:!0,wellKnown:!0,cost:{budget:200,highEnd:600},skillLevel:["intermediate"],waveDirection:"left",breakDetails:"river mouth",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["SSW","NE"],optimalWind:["E"],optimalTide:["high","mid"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Dfd",avgWaterTemp:{spring:77,summer:80,autumn:86,winter:77},hazards:["strong currents","crowded","crocs","sewage"],lat:21.708047,lng:-158.002275,spotID:"none",picture:'<img src="/img/flickr_turtle_bay-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Halawa Bay",location:"Molokai, Hawaii",bigWave:!1,wellKnown:!1,cost:{budget:5,highEnd:25},skillLevel:["beginner"],waveDirection:"right",breakDetails:"beach",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["WNW","N"],optimalWind:["SW"],optimalTide:["high","mid","low"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Cwa",avgWaterTemp:{spring:77,summer:80,autumn:45,winter:77},hazards:["sharks","crowded","seaweed","urchins","sea snakes"],lat:21.159132,lng:-156.735906,spotID:"none",picture:'<img src="/img/flickr_halawa_bay-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Honolua Bay",location:"Maui, Hawaii",bigWave:!1,wellKnown:!1,cost:{budget:10,highEnd:25},skillLevel:["intermediate"],waveDirection:"left & right",breakDetails:"reef",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["W","S"],optimalWind:["E","NNE"],optimalTide:["low"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"BSh",avgWaterTemp:{spring:77,summer:80,autumn:36,winter:77},hazards:["crowded","sharks","dangerous break"],lat:21.02435,lng:-156.64189,spotID:697,picture:'<img src="/img/flickr_honolua_bay-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Jaws/Peahi",location:"Maui, Hawaii",bigWave:!1,wellKnown:!1,cost:{budget:45,highEnd:85},skillLevel:["beginner"],waveDirection:"right",breakDetails:"beach",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["N","E"],optimalWind:["NE","S"],optimalTide:["mid"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Cfc",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["crowded","strong currents","rocky bottom","far from shore"],lat:20.946401,lng:-156.297389,spotID:617,picture:'<img src="/img/flickr_jaws-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"The Cove",location:"Maui, Hawaii",bigWave:!1,wellKnown:!0,cost:{budget:60,highEnd:100},skillLevel:["intermediate"],waveDirection:"left & right",breakDetails:"river mouth",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["SSE","NNE"],optimalWind:["W","SSW"],optimalTide:["high"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Cfb",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["strong currents","crowded"],lat:20.728298,lng:-156.452353,spotID:"none",picture:'<img src="/img/flickr_the_cove-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Ma'alaea",location:"Maui, Hawaii",bigWave:!0,wellKnown:!1,cost:{budget:20,highEnd:55},skillLevel:["beginner"],waveDirection:"right",breakDetails:"beach",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["WSW","ENE"],optimalWind:["NNE","NE"],optimalTide:["high","low"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Csb",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["sharks","crowded","seaweed","boats"],lat:20.79186,lng:-156.50896,spotID:618,picture:'<img src="/img/flickr_maalaea-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Lahaina",location:"Maui, Hawaii",bigWave:!1,wellKnown:!0,cost:{budget:10,highEnd:30},skillLevel:["intermediate"],waveDirection:"left & right",breakDetails:"point",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["NE","NW"],optimalWind:["ESE","SE"],optimalTide:["high"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Dwa",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["strong currents","crowded","beginners","shallow"],lat:20.869326,lng:-156.679025,spotID:4287,picture:'<img src="/img/flickr_lahaina-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Lymans/Banyans",location:"Big Island, Hawaii",bigWave:!0,wellKnown:!1,cost:{budget:60,highEnd:185},skillLevel:["advanced"],waveDirection:"left",breakDetails:"beach",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["W","NW"],optimalWind:["E","S"],optimalTide:["low"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Dwd",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["sharks","crowded","strong rips"],lat:19.606206,lng:-155.978016,spotID:2784,picture:'<img src="/img/flickr_lymans-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Pine Trees",location:"Big Island, Hawaii",bigWave:!1,wellKnown:!1,cost:{budget:70,highEnd:120},skillLevel:["beginner"],waveDirection:"left & right",breakDetails:"reef",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["SSE","SW"],optimalWind:["N","S"],optimalTide:["mid"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Am",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["crowded","strong rips","unfriendly"],lat:19.695131,lng:-156.045926,spotID:3958,picture:'<img src="/img/flickr_pine_trees-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Kiholo Bay",location:"Big Island, Hawaii",bigWave:!0,wellKnown:!0,cost:{budget:10,highEnd:30},skillLevel:["intermediate","advanced"],waveDirection:"left",breakDetails:"beach",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["W","E"],optimalWind:["NE"," ENE"],optimalTide:["mid","low"],optimalTime:[" Nov"," Dec"," Jan"," Feb"],climate:"Bsh",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["strong currents","crowded","unfriendly","urchins"],lat:19.854416,lng:-155.93134,spotID:"none",picture:'<img src="/img/flickr_kiholo_bay-w640.jpg" class="location-image  img-responsive img-rounded">'},{breakName:"Honoli'i",location:"Big Island, Hawaii",bigWave:!0,wellKnown:!1,cost:{budget:5,highEnd:25},skillLevel:["beginner","intermediate"],waveDirection:"left & right",breakDetails:"point",avgSize:{min:5,max:16,aboveMax:!0},optimalSwell:["W","NW"],optimalWind:["SSE","N"],optimalTide:["high","low"],optimalTime:[" Jan"," Feb"," Mar"," Apr"," May"," Jun"," Jul"," Aug"," Sep"," Oct"," Nov"," Dec"],climate:"Aw",avgWaterTemp:{spring:77,summer:80,autumn:80,winter:77},hazards:["sharks","crowded","undertow"],lat:19.756298,lng:-155.08996,spotID:3815,picture:'<img src="/img/flickr_honolii-w640.jpg" class="location-image  img-responsive img-rounded">'}],images={};$(document).ready(function(){function a(a){for(var d in a)b++;for(var d in a)switch(images[d]=new Image,images[d].onload=function(){++c>=b&&(console.log("images loaded"),addRolloverEffect())},images[d].src=a[d],a){case e:images[d].className="rollover-info skill-level-hover";break;case f:images[d].className="rollover-info break-type-hover";break;case g:images[d].className="rollover-info wave-direction-hover";break;case h:images[d].className="rollover-info best-season-hover";break;case i:images[d].className="rollover-info misc-info-one-hover";break;case j:images[d].className="rollover-info misc-info-two-hover"}}var b=0,c=0,d={attireSpring:"img/water_temp_spring.svg",attireSummer:"img/water_temp_summer.svg",attireAutumn:"img/water_temp_winter.svg",attireWinter:"img/water_temp_autumn.svg",attireBoardies:"img/water_attire_boardies.svg",attireWetsuitTwo:"img/water_attire_2mm_wetsuit.svg",attireWetsuitThree:"img/water_attire_3mm_wetsuit.svg",attireWetsuitFour:"img/water_attire_4mm_wetsuit.svg",attireWetsuitFive:"img/water_attire_5mm_wetsuit.svg",attireWetsuitSix:"img/water_attire_6mm_wetsuit.svg",swellPointer:"img/compass_swell_pointer.svg",windPointer:"img/compass_wind_pointer.svg",smallCompass:"img/compass_guide.svg"},e={roIconSkillAll:"img/skill_level_ro_all.svg",roIconSkillBegInt:"img/skill_level_ro_beginner_intermediate.svg",roIconSkillBeg:"img/skill_level_ro_beginner.svg",roIconSkillIntAdv:"img/skill_level_ro_intermediate_advanced.svg",roIconSkillInt:"img/skill_level_ro_intermediate.svg",roIconSkillAdv:"img/skill_level_ro_advanced.svg"},f={roIconBreakReef:"img/break_ro_reef.svg",roIconBreakBeach:"img/break_ro_beach.svg",roIconBreakPoint:"img/break_ro_point.svg",roIconBreakRiver:"img/break_ro_river_mouth.svg"},g={roIconDirectionLeft:"img/direction_ro_left.svg",roIconDirectionRight:"img/direction_ro_right.svg",roIconDirectionBoth:"img/direction_ro_both.svg"},h={roIconBestSeasonAll:"img/season_ro_all.svg",roIconBestSeasonWinSpr:"img/season_ro_winter_spring.svg",roIconBestSeasonWinSum:"img/season_ro_winter_summer.svg",roIconBestSeasonWinAut:"img/season_ro_winter_autumn.svg",roIconBestSeasonWin:"img/season_ro_winter.svg",roIconBestSeasonSpgSum:"img/season_ro_spring_summer.svg",roIconBestSeasonSpgAut:"img/season_ro_spring_autumn.svg",roIconBestSeasonSpg:"img/season_ro_spring.svg",roIconBestSeasonSumAut:"img/season_summer_autumn.svg",roIconBestSeasonSum:"img/season_summer.svg",roIconBestSeasonAut:"img/season_autumn.svg"},i={roIconMiscOneBoardies:"img/water_attire_ro_boardies.svg",roIconMiscOneWetSuitTwo:"img/water_attire_ro_2mm_wetsuit.svg",roIconMiscOneWetSuitThree:"img/water_attire_ro_3mm_wetsuit.svg",roIconMiscOneWetSuitFour:"img/water_attire_ro_4mm_wetsuit.svg",roIconMiscOneWetSuitFive:"img/water_attire_ro_5mm_wetsuit.svg",roIconMiscOneWetSuitSix:"img/water_attire_ro_6mm_wetsuit.svg",roIconMiscOneBigWave:"img/big_wave_ro.svg"},j={roIconMiscTwoBeginners:"img/hazards_ro_beginners.svg",roIconMiscTwoBoats:"img/hazards_ro_boats.svg",roIconMiscTwoCrocs:"img/hazards_ro_crocs.svg",roIconMiscTwoCrowded:"img/hazards_ro_crowded.svg",roIconMiscTwoDgrBreak:"img/hazards_ro_dangerous_break.svg",roIconMiscTwoFar:"img/hazards_ro_far_from_shore.svg",roIconMiscTwoPollution:"img/hazards_ro_pollution.svg",roIconMiscTwoRocky:"img/hazards_ro_rocky_bottom.svg",roIconMiscTwoSnakes:"img/hazards_ro_sea_snakes.svg",roIconMiscTwoSeals:"img/hazards_ro_seals.svg",roIconMiscTwoSeaweed:"img/hazards_ro_seaweed.svg",roIconMiscTwoSewage:"img/hazards_ro_sewage.svg",roIconMiscTwoShallow:"img/hazards_ro_sharks.svg",roIconMiscTwoSharks:"img/hazards_ro_sharks.svg",roIconMiscTwoStrCurrent:"img/hazards_ro_strong_currents.svg",roIconMiscTwoStrRips:"img/hazards_ro_strong_rips.svg",roIconMiscTwoTheft:"img/hazards_ro_theft.svg",roIconMiscTwoUndertow:"img/hazards_ro_undertow.svg",roIconMiscTwoUnfriendly:"img/hazards_ro_unfriendly.svg",roIconMiscTwoUrchins:"img/hazards_ro_urchins.svg",roIconMiscTwoWellknown:"img/well_known_ro.svg"};a(d),a(e),a(f),a(g),a(h),a(i),a(j)}),navigator.geolocation.getCurrentPosition(success);var map,infoWindow,markers=[];ko.applyBindings(new AppViewModel);